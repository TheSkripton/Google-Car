<html>
    <body>
        <textarea cols="1" rows="1"></textarea>
        <script>
            var state=0;
            function key(key){
                keyname=String.fromCharCode(key.keyCode);
                console.log(keyname,state);
                bg=document.getElementsByTagName("body")[0].style.backgroundColor;
                if(keyname=="w"){
                    state=1;
                    document.getElementsByTagName("body")[0].style.backgroundColor="red";
                }
                if(keyname=="s"){
                    state=2;
                    document.getElementsByTagName("body")[0].style.backgroundColor="blue";
                }
                if(keyname=="d"){
                    state=3;
                    document.getElementsByTagName("body")[0].style.backgroundColor="green";
                }
                if(keyname=="a"){
                    state=4;
                    document.getElementsByTagName("body")[0].style.backgroundColor="white";
                }
                if(keyname=="A" || keyname=="W" || keyname=="S" || keyname=="D"){
                    state=0;
                    document.getElementsByTagName("body")[0].style.backgroundColor="black";
                }
            }
            text=document.getElementsByTagName("textarea")[0]
            text.addEventListener('keypress',key,false);
            text.addEventListener('keyup',key,false)
        </script>
    </body>
</html>